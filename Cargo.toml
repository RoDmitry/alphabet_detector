[package]
name = "alphabet_detector"
version = "0.1.0"
authors = ["Dmitry Rodionov <gh@rdmtr.com>"]
description = "Natural language alphabet detection library"
documentation = "https://docs.rs/alphabet_detector/"
repository = "https://github.com/RoDmitry/alphabet_detector"
categories = ["text-processing"]
keywords = ["language", "alphabet", "detection", "word", "separator"]
exclude = [".github/*", "tests/*"]
readme = "README.md"
license = "MIT OR Apache-2.0"
edition = "2021"
default-run = "cli_alphabet_intersection"

[profile.dev]
opt-level = 1

[lib]
name = "alphabet_detector"
path = "src/lib.rs"

[[bin]]
name = "cli_alphabet_intersection"
required-features = ["cli_alphabet_intersection"]

[workspace]
members = ["alphabet_match_macro"]

[dependencies]
icu_normalizer = "=2.0.0-beta1"
alphabet_match_macro = { path = "alphabet_match_macro", version = "0.1" }
debug_unsafe = "0.1"
# debug_unsafe = { path = "../debug_unsafe", version = "0.1" }
serde = { version = "1.0", features = ["derive"] }
strum = "0.26"
strum_macros = "0.26"

# [target.'cfg(not(target_family = "wasm"))'.dependencies]
ahash = "0.8"

# cli_alphabet_intersection
cap = { version = "0.1", optional = true }
clap = { version = "4.5", features = ["derive"], optional = true }
jemallocator = { version = "0.5", optional = true }
libc = { version = "0.2", optional = true }
threadpool = { version = "1.8", optional = true }

# [target.'cfg(target_family = "wasm")'.dependencies]
# ahash = { version = "0.8", default-features = false, features = ["std", "compile-time-rng"] }
# serde-wasm-bindgen = "0.6"
# wasm-bindgen = "0.2"

[dev-dependencies]
rstest = "0.24"
serde_json = "1.0"

# [target.'cfg(target_family = "wasm")'.dev-dependencies]
# wasm-bindgen-test = "0.3"

[features]
python = []
test_chars = []
files_read = []
cli_alphabet_intersection = ["files_read", "cap", "clap", "jemallocator", "libc", "threadpool"]
